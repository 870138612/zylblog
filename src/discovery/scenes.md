---
title: 场景题
icon: changjing
category:
  - 场景题
tag:
  - 场景题
---

### CPU 飙高系统反应慢怎么排查？
- CPU 是整个电脑的核心计算资源，对于一个应用进程来说，CPU 的最小执行单元是线程。
- 导致 CPU 占用率较高的原因是因为频繁的上下文切换或者 CPU 资源过度消耗，导致应用中的线程无法获得 CPU 的调度，从而影响效率。
- 可以通过 top 命令找到利用率较高的线程。
  - 如果是利用过高的线程一直是同一个，则说明长时间 CPU 没有释放，通过 jstack 获得线程的 dump 日志，定位到日志就可以找到问题代码。
  - CPU 利用率过高的线程 id 不断变化，说明线程创建过多，需要挑选几个线程 id，通过 jstack 去线程 dump 日志中排查。
